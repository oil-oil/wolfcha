<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wolfcha - 沉浸式剧场版预览</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@500;700;900&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <style>
        /* 自定义动画与特效 */
        :root {
            --glass-border: rgba(255, 255, 255, 0.1);
            --glass-bg: rgba(255, 255, 255, 0.05);
            --glass-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.1);
        }

        body {
            font-family: 'Inter', sans-serif;
            overflow: hidden;
        }

        .font-serif {
            font-family: 'Noto Serif SC', serif;
        }

        /* 动态背景 - 白天 */
        .bg-day {
            background: linear-gradient(-45deg, #fdfbf7, #f3e7e9, #e3eeff, #f3e7e9);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
        }

        /* 动态背景 - 夜晚 */
        .bg-night {
            background: linear-gradient(-45deg, #0f172a, #1e1b4b, #312e81, #1e1b4b);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* 浮尘粒子 */
        .particle {
            position: absolute;
            border-radius: 50%;
            opacity: 0;
            animation: floatUp linear infinite;
        }

        @keyframes floatUp {
            0% { transform: translateY(100vh) scale(0); opacity: 0; }
            20% { opacity: 0.5; }
            80% { opacity: 0.5; }
            100% { transform: translateY(-100px) scale(1); opacity: 0; }
        }

        /* 毛玻璃卡片 */
        .glass-panel {
            background: rgba(255, 255, 255, 0.65);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.5);
            box-shadow: 0 8px 32px rgba(31, 38, 135, 0.1);
        }

        .dark .glass-panel {
            background: rgba(15, 23, 42, 0.65);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        /* 悬浮头像 */
        .avatar-float {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .avatar-float:hover {
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
        }

        /* 正在发言光环 */
        .speaking-ring {
            box-shadow: 0 0 0 2px rgba(184, 134, 11, 0.5), 0 0 0 6px rgba(184, 134, 11, 0.2);
            animation: pulse-ring 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }

        @keyframes pulse-ring {
            0%, 100% { box-shadow: 0 0 0 2px rgba(184, 134, 11, 0.5), 0 0 0 6px rgba(184, 134, 11, 0); }
            50% { box-shadow: 0 0 0 2px rgba(184, 134, 11, 0.8), 0 0 0 10px rgba(184, 134, 11, 0.2); }
        }

        /* 大立绘进场动画 */
        .stage-enter {
            animation: stageEnter 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
        }

        @keyframes stageEnter {
            from { opacity: 0; transform: translateY(20px) scale(0.95); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }
    </style>
</head>
<body class="h-screen w-screen overflow-hidden transition-colors duration-1000 bg-day text-slate-800 dark:text-slate-100" id="app-body">

    <!-- 动态背景层 -->
    <div id="particles" class="absolute inset-0 pointer-events-none z-0"></div>

    <!-- 顶部状态栏 (极简悬浮) -->
    <div class="absolute top-0 left-0 w-full p-6 flex justify-between items-start z-20">
        <div class="flex items-center gap-3 glass-panel px-4 py-2 rounded-full">
            <i class="ph-fill ph-sun text-amber-500 text-xl" id="phase-icon"></i>
            <span class="font-bold text-sm tracking-wide" id="phase-text">第 2 天 · 白天讨论</span>
            <div class="w-px h-3 bg-current opacity-20 mx-1"></div>
            <span class="text-xs opacity-70">10人存活</span>
        </div>

        <div class="flex gap-2">
             <button class="glass-panel w-10 h-10 rounded-full flex items-center justify-center hover:bg-white/80 transition-colors" onclick="toggleTheme()">
                <i class="ph ph-moon-stars text-lg"></i>
            </button>
            <button class="glass-panel w-10 h-10 rounded-full flex items-center justify-center hover:bg-white/80 transition-colors">
                <i class="ph ph-list text-lg"></i>
            </button>
        </div>
    </div>

    <!-- 主舞台区域 -->
    <div class="relative w-full h-full flex flex-col items-center justify-end pb-32 z-10">
        
        <!-- 中央立绘/大头像 (Visual Novel Style) -->
        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-[60%] flex flex-col items-center stage-enter" id="stage-actor">
            <div class="relative w-48 h-48 md:w-64 md:h-64 mb-6">
                <!-- 光晕背景 -->
                <div class="absolute inset-0 bg-gradient-to-tr from-amber-200 to-transparent rounded-full blur-3xl opacity-40 animate-pulse"></div>
                <img src="https://api.dicebear.com/7.x/notionists/svg?seed=Joker&backgroundColor=e8d5c4" 
                     class="w-full h-full object-cover drop-shadow-2xl relative z-10 hover:scale-105 transition-transform duration-500"
                     alt="Speaker">
                
                <!-- 身份标记 (仅自己可见) -->
                <div class="absolute -bottom-2 -right-2 bg-purple-600 text-white p-2 rounded-full shadow-lg z-20 border-2 border-white">
                    <i class="ph-fill ph-drop text-xl"></i>
                </div>
            </div>
            
            <div class="text-center space-y-1">
                <div class="flex items-center gap-2 justify-center">
                    <span class="bg-slate-800 text-white text-xs font-bold px-2 py-0.5 rounded">5号</span>
                    <h2 class="text-2xl font-black font-serif tracking-tight">Joker</h2>
                </div>
                <p class="text-sm font-medium opacity-60">女巫 · 激进派</p>
            </div>
        </div>

        <!-- 对话框 (Glassmorphism) -->
        <div class="w-full max-w-2xl px-6 relative z-20">
            <div class="glass-panel rounded-2xl p-6 md:p-8 relative overflow-hidden group">
                <!-- 装饰性引号 -->
                <i class="ph-fill ph-quotes text-6xl absolute top-2 left-4 opacity-5 pointer-events-none"></i>
                
                <div class="relative z-10">
                    <p class="text-lg md:text-xl font-serif leading-relaxed text-slate-800 dark:text-slate-100" id="dialogue-text">
                        既然是平安夜，那肯定是我这个<span class="text-amber-600 font-bold mx-1">美男救世主</span>立功了呀！解药我昨晚已经交了，绝对是保下了一张关键好人牌。
                    </p>
                    
                    <div class="flex items-center justify-between mt-6 pt-4 border-t border-black/5 dark:border-white/10">
                        <span class="text-xs font-medium opacity-50 flex items-center gap-1">
                            <span class="w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"></span>
                            正在发言...
                        </span>
                        <div class="flex gap-2">
                             <button class="text-xs font-bold opacity-50 hover:opacity-100 uppercase tracking-wider transition-opacity flex items-center gap-1" onclick="nextDialogue()">
                                跳过 <i class="ph-bold ph-caret-right"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <!-- 悬浮玩家列表 (左右) -->
    <!-- 左侧 -->
    <div class="absolute left-6 top-1/2 -translate-y-1/2 flex flex-col gap-3 z-10 hidden md:flex">
        <!-- 玩家卡片 -->
        <div class="group relative flex items-center gap-3 p-2 pr-4 rounded-xl hover:bg-white/40 dark:hover:bg-black/20 transition-all cursor-pointer avatar-float">
            <div class="w-10 h-10 rounded-full bg-slate-200 overflow-hidden border-2 border-white shadow-sm relative">
                <img src="https://api.dicebear.com/7.x/notionists/svg?seed=Wolf&backgroundColor=d4e5d7" class="w-full h-full object-cover">
                 <div class="absolute inset-0 bg-black/60 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-white text-xs font-bold">查看</div>
            </div>
            <div class="flex flex-col">
                <span class="text-xs font-bold opacity-50">1号</span>
                <span class="text-sm font-bold">志煌</span>
            </div>
        </div>
         <div class="group relative flex items-center gap-3 p-2 pr-4 rounded-xl hover:bg-white/40 dark:hover:bg-black/20 transition-all cursor-pointer avatar-float">
            <div class="w-10 h-10 rounded-full bg-slate-200 overflow-hidden border-2 border-white shadow-sm">
                <img src="https://api.dicebear.com/7.x/notionists/svg?seed=Bear&backgroundColor=d5dce8" class="w-full h-full object-cover">
            </div>
            <div class="flex flex-col">
                <span class="text-xs font-bold opacity-50">2号</span>
                <span class="text-sm font-bold">阿强</span>
            </div>
        </div>
         <div class="group relative flex items-center gap-3 p-2 pr-4 rounded-xl hover:bg-white/40 dark:hover:bg-black/20 transition-all cursor-pointer avatar-float">
            <div class="w-10 h-10 rounded-full bg-slate-200 overflow-hidden border-2 border-white shadow-sm">
                <img src="https://api.dicebear.com/7.x/notionists/svg?seed=Cat&backgroundColor=e8d4d9" class="w-full h-full object-cover">
            </div>
            <div class="flex flex-col">
                <span class="text-xs font-bold opacity-50">3号</span>
                <span class="text-sm font-bold">小林同学</span>
            </div>
        </div>
         <div class="group relative flex items-center gap-3 p-2 pr-4 rounded-xl hover:bg-white/40 dark:hover:bg-black/20 transition-all cursor-pointer avatar-float">
            <div class="w-10 h-10 rounded-full bg-slate-200 overflow-hidden border-2 border-white shadow-sm">
                <img src="https://api.dicebear.com/7.x/notionists/svg?seed=Dog&backgroundColor=ddd4e8" class="w-full h-full object-cover">
            </div>
            <div class="flex flex-col">
                <span class="text-xs font-bold opacity-50">4号</span>
                <span class="text-sm font-bold">清风徐来</span>
            </div>
        </div>
    </div>

    <!-- 右侧 -->
    <div class="absolute right-6 top-1/2 -translate-y-1/2 flex-col gap-3 items-end z-10 hidden md:flex">
         <div class="group relative flex items-center gap-3 p-2 pl-4 rounded-xl hover:bg-white/40 dark:hover:bg-black/20 transition-all cursor-pointer avatar-float flex-row-reverse text-right">
            <div class="w-10 h-10 rounded-full bg-slate-200 overflow-hidden border-2 border-white shadow-sm grayscale opacity-60">
                <img src="https://api.dicebear.com/7.x/notionists/svg?seed=Ace&backgroundColor=e5d4d4" class="w-full h-full object-cover">
                 <div class="absolute inset-0 flex items-center justify-center">
                    <i class="ph-fill ph-skull text-white drop-shadow-md"></i>
                </div>
            </div>
            <div class="flex flex-col">
                <span class="text-xs font-bold opacity-50">6号</span>
                <span class="text-sm font-bold line-through opacity-60">陈陈</span>
            </div>
        </div>
         <div class="group relative flex items-center gap-3 p-2 pl-4 rounded-xl hover:bg-white/40 dark:hover:bg-black/20 transition-all cursor-pointer avatar-float flex-row-reverse text-right">
            <div class="w-10 h-10 rounded-full bg-slate-200 overflow-hidden border-2 border-white shadow-sm">
                <img src="https://api.dicebear.com/7.x/notionists/svg?seed=Fox&backgroundColor=dae8d4" class="w-full h-full object-cover">
            </div>
            <div class="flex flex-col">
                <span class="text-xs font-bold opacity-50">7号</span>
                <span class="text-sm font-bold">北巷</span>
            </div>
        </div>
         <div class="group relative flex items-center gap-3 p-2 pl-4 rounded-xl hover:bg-white/40 dark:hover:bg-black/20 transition-all cursor-pointer avatar-float flex-row-reverse text-right">
            <div class="w-10 h-10 rounded-full bg-slate-200 overflow-hidden border-2 border-white shadow-sm">
                <img src="https://api.dicebear.com/7.x/notionists/svg?seed=Pig&backgroundColor=e8e4d4" class="w-full h-full object-cover">
            </div>
            <div class="flex flex-col">
                <span class="text-xs font-bold opacity-50">8号</span>
                <span class="text-sm font-bold">甜点屋</span>
            </div>
        </div>
         <div class="group relative flex items-center gap-3 p-2 pl-4 rounded-xl hover:bg-white/40 dark:hover:bg-black/20 transition-all cursor-pointer avatar-float flex-row-reverse text-right">
            <div class="w-10 h-10 rounded-full bg-slate-200 overflow-hidden border-2 border-white shadow-sm">
                <img src="https://api.dicebear.com/7.x/notionists/svg?seed=Bird&backgroundColor=d4d8e8" class="w-full h-full object-cover">
            </div>
            <div class="flex flex-col">
                <span class="text-xs font-bold opacity-50">9号</span>
                <span class="text-sm font-bold">Ace</span>
            </div>
        </div>
    </div>


    <!-- 底部操作岛 (Dynamic Island Style) -->
    <div class="absolute bottom-6 left-1/2 -translate-x-1/2 z-30">
        <div class="glass-panel rounded-full p-2 pl-6 pr-2 flex items-center gap-4 shadow-2xl transition-all hover:scale-105">
            <div class="flex flex-col">
                <span class="text-[10px] font-bold uppercase opacity-50 tracking-wider">Your Action</span>
                <span class="text-sm font-bold">轮到你发言了</span>
            </div>
            <button class="bg-amber-500 hover:bg-amber-600 text-white rounded-full px-6 py-2.5 font-bold text-sm shadow-lg shadow-amber-500/30 flex items-center gap-2 transition-all active:scale-95">
                <i class="ph-fill ph-microphone"></i>
                开始发言
            </button>
            <div class="w-px h-6 bg-black/10 dark:bg-white/10 mx-1"></div>
            <button class="w-10 h-10 rounded-full hover:bg-black/5 dark:hover:bg-white/10 flex items-center justify-center transition-colors relative" title="笔记本">
                <i class="ph-bold ph-notebook text-lg"></i>
                <span class="absolute top-2 right-2 w-2 h-2 bg-red-500 rounded-full border-2 border-white"></span>
            </button>
        </div>
    </div>

    <script>
        // 简单的例子脚本
        const dialogues = [
            {
                name: "Joker",
                seat: "5号",
                role: "女巫 · 激进派",
                avatar: "https://api.dicebear.com/7.x/notionists/svg?seed=Joker&backgroundColor=e8d5c4",
                text: "既然是平安夜，那肯定是我这个<span class='text-amber-600 font-bold mx-1'>美男救世主</span>立功了呀！解药我昨晚已经交了，绝对是保下了一张关键好人牌。"
            },
            {
                name: "北巷",
                seat: "7号",
                role: "守卫 · 观察者",
                avatar: "https://api.dicebear.com/7.x/notionists/svg?seed=Fox&backgroundColor=dae8d4",
                text: "2号对我敌意很大，但我听不出你的逻辑支点在哪里，像是在盲打。5号既然跳了女巫领队，那这种平安夜开局，好人没必要自乱阵脚。"
            },
            {
                name: "甜点屋",
                seat: "8号",
                role: "狼人 · 伪装",
                avatar: "https://api.dicebear.com/7.x/notionists/svg?seed=Pig&backgroundColor=e8e4d4",
                text: "哎哟，大家伙儿都别急嘛，俺听了一圈，感觉这火药味有点儿重了呀。大家要不来俺甜点屋吃口甜的降降火？"
            }
        ];

        let currentIdx = 0;

        function nextDialogue() {
            currentIdx = (currentIdx + 1) % dialogues.length;
            const d = dialogues[currentIdx];
            
            // 简单的淡入淡出动画逻辑
            const stage = document.getElementById('stage-actor');
            const text = document.getElementById('dialogue-text');
            
            stage.classList.remove('stage-enter');
            void stage.offsetWidth; // trigger reflow
            stage.classList.add('stage-enter');
            
            // 更新内容
            document.querySelector('#stage-actor img').src = d.avatar;
            document.querySelector('#stage-actor h2').innerText = d.name;
            document.querySelector('#stage-actor p').innerText = d.role;
            document.querySelector('#stage-actor .bg-slate-800').innerText = d.seat;
            text.innerHTML = d.text;
        }

        // 粒子生成
        function createParticles() {
            const container = document.getElementById('particles');
            for(let i=0; i<20; i++) {
                const p = document.createElement('div');
                p.className = 'particle bg-white/20';
                const size = Math.random() * 10 + 2;
                p.style.width = size + 'px';
                p.style.height = size + 'px';
                p.style.left = Math.random() * 100 + 'vw';
                p.style.animationDuration = (Math.random() * 10 + 10) + 's';
                p.style.animationDelay = Math.random() * 5 + 's';
                container.appendChild(p);
            }
        }

        function toggleTheme() {
            const body = document.getElementById('app-body');
            const isDay = body.classList.contains('bg-day');
            const icon = document.getElementById('phase-icon');
            const text = document.getElementById('phase-text');
            
            if (isDay) {
                body.classList.remove('bg-day');
                body.classList.add('bg-night', 'dark');
                icon.classList.remove('ph-sun', 'text-amber-500');
                icon.classList.add('ph-moon-stars', 'text-indigo-300');
                text.innerText = "第 2 天 · 夜晚行动";
            } else {
                body.classList.remove('bg-night', 'dark');
                body.classList.add('bg-day');
                icon.classList.remove('ph-moon-stars', 'text-indigo-300');
                icon.classList.add('ph-sun', 'text-amber-500');
                text.innerText = "第 2 天 · 白天讨论";
            }
        }

        createParticles();
    </script>
</body>
</html>
